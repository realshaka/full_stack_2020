{"version":3,"sources":["components/Service.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","components/Error.js","components/App.js","index.js"],"names":["baseURL","params","axios","get","then","response","data","newPerson","post","id","console","log","delete","person","put","DeletePerson","props","onClick","window","confirm","name","service","location","reload","Persons","persons","map","key","number","Filter","value","onChange","PersonForm","onSubmit","type","Notification","message","className","Error","App","useState","setPersons","newName","setNewName","newNum","setNewNum","filter","setFilter","noti","setNoti","error","setError","personsToShow","toLowerCase","trim","includes","useEffect","showNoti","setTimeout","showError","event","target","nameInput","numInput","preventDefault","some","phone","personUpdate","find","catch","n","updatePhone","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6dd1c015.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst getAll = (params) => {\n    const request = axios\n        .get(baseURL)\n    return request.then(response => response.data)\n}   \n\nconst createPerson = newPerson => {\n    const request = axios.post(baseURL, newPerson)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    console.log(baseURL + `\u001d/${id}`)\n    const request = axios.delete(`${baseURL}/${id}`)\n    return request.then(response => console.log(response.data))\n}\n\nconst updatePerson = (person) => {\n    const request = axios.put(`${baseURL}/${person.id}`, person)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, createPerson, deletePerson, updatePerson}\n","import React from 'react'\nimport service from './Service'\n\nconst DeletePerson = (props) => {\n\tconst deletePerson = () => {\n\t\tconsole.log(props)\n\t\tconst result = window.confirm(`Delete ${props.name}?`)\n\t\tif(result===true) {\n\t\t\tservice.deletePerson(props.id)\n\t\t\twindow.location.reload();\n\t\t}\n\t}\n\treturn (\n\t\t<button onClick={deletePerson}>delete</button>\n\t)\n}\n\nconst Persons = ({ persons }) => {\n\t\n\treturn (\n\t\t<div>\n\t\t\t{persons.map(person =>\n\t\t\t\t\t<div key={person.name}>{person.name} {person.number} <DeletePerson name={person.name} id={person.id} /></div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = (props) => {\n\treturn (\n\t\t<div>\n\t\t\tfilter show with <input value={props.value} onChange={props.onChange}/>\n\t\t</div>\n\t)\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n\treturn (\n\t\t<form onSubmit={props.onSubmit}>\n\t\t\t\t<div>\n\t\t\t\t\tname: <input value={props.value[0]} onChange={props.onChange[0]}/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\tnumber: <input value={props.value[1]} onChange={props.onChange[1]}/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t\t</div>\n\t\t</form>\n\t);\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"notifications\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst Error = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Error","import React, { useState, useEffect } from 'react'\nimport Persons from './Persons'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Notification from './Notification'\nimport Error from './Error'\nimport service from './Service'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newNum, setNewNum] = useState('')\n\tconst [filter, setFilter] = useState('')\n\tconst [noti, setNoti] = useState(null)\n\tconst [error, setError] = useState(null)\n\tconst personsToShow = persons.filter(person => person.name.toLowerCase().trim().includes(filter.trim().toLowerCase()) === true)\n\n\tconst hook = () => {\n\t\tconsole.log('get data')\n\t\tservice.getAll()\n\t\t\t.then(response => {\n\t\t\t\tconsole.log('data loaded')\n\t\t\t\tsetPersons(response)\n\t\t\t})\n\t}\n\tuseEffect(hook, [])\n\n\tconst handleNamesChange = (event) => {\n\t\tsetNewName(event.target.value)\n\t}\n\n\tconst handleNumChange = (event) => {\n\t\tsetNewNum(event.target.value)\n\t}\n\n\tconst handleFilter = (event) => {\n\t\tsetFilter(event.target.value)\n\t}\n\t\n\tconst updatePhone = (name, phone) => {\n\t\tconst message = `${name} is already added to phonebook, replace the old number with a new one? ` \n\t\tconst confirm = window.confirm(message)\n\t\tlet personUpdate = persons.find(person => person.name === name )\n\t\tpersonUpdate = {...personUpdate, number: phone}\n\t\tif(confirm===true) {\n\t\t\tservice.updatePerson(personUpdate)\n\t\t\t.then(response => {\n\t\t\t\tconsole.log('data updated')\n\t\t\t\tconsole.log(response)\n\t\t\t\tsetPersons(persons.map(person => person.id !== personUpdate.id ? person: response))\n\t\t\t\tshowNoti(`Updated ${name} phone number`)\t\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error)\n\t\t\t\tshowError(\n\t\t\t\t\t`Information of '${name}' was already deleted from server`\n\t\t\t\t)\n\t\t\t\tsetPersons(persons.filter(n => n.id !== personUpdate.id))\n\t\t\t})\n\t\t}\n\t}\n\t\n\tconst showNoti = (message) => {\n\t\tconsole.log(message)\n\t\tsetNoti(message)\n\t\tsetTimeout(() => {\n\t\t\tsetNoti(null)\n\t\t}, 5000)\n\t}\n\n\tconst showError = (message) => {\n\t\tconsole.log(message)\n\t\tsetError(message)\n\t\tsetTimeout(() => {\n\t\t\tsetError(null)\n\t\t}, 5000)\n\t}\n\n\tconst addName = (event) => {\n\t\tlet nameInput = newName.trim()\n\t\tlet numInput = newNum.trim()\n\t\tevent.preventDefault()\n\t\tconst nameAdded = persons.some(person => person.name === nameInput)\n\t\t\n\t\tif (nameAdded) {\n\t\t\tupdatePhone(nameInput, numInput)\n\t\t\t//alert(`${nameInput} is already added to phonebook`)\n\t\t\treturn\n\t\t}\n\n\t\tservice.createPerson({ name: nameInput, number: numInput })\n\t\t.then(response => {\n\t\t\tsetPersons(persons.concat(response))\n\t\t\tshowNoti(`Added ${nameInput}`)\n\t\t})\n\t\t\n\t\tsetNewName('')\n\t\tsetNewNum('')\n\t\tconsole.log(persons)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={noti}/>\n\t\t\t<Error message={error}/>\n\t\t\t<Filter value={filter} onChange={handleFilter} />\n\t\t\t<h2>Add a new</h2>\n\t\t\t<PersonForm onSubmit={addName} value={[newName, newNum]} onChange={[handleNamesChange, handleNumChange]} />\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons persons={personsToShow} />\n\t\t</div>\n\t)\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}